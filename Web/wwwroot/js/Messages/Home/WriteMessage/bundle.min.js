function initSendMessage(){async function t(n,t){isEmptyInput(n)?i(t):await r(n,t)}function i(n){let t=n.querySelector("select.recipient-type-select");t.value="TBC";t.setAttribute("disabled",!0);let i=t.parentElement.querySelector("div.input-group-text");i.setAttribute("data-bs-original-title","Please select a group first.");setTooltips()}async function r(t,i){let f=t.getAttribute("data-url"),e=new URL(f),o=new FormData(n),r=await fetch(e.href,{method:"POST",body:o});await r;let u=await getResponseText(r);isHtml(u)&&(i.innerHTML=u,initRecipientSection(n))}initSummernote();let n=document.getElementById("messageForm");if(n&&!n.getAttribute("data-initalised-wm")){n.setAttribute("data-initalised-wm",!0);let i=n.querySelector("select.gifting-group-select"),r=n.querySelector(".message-recipient-section");i&&r&&!initialised(i,"recipient")&&i.addEventListener("change",function(){t(i,r)});initRecipientSection(n)}}function initRecipientSection(n){let t=n.querySelector("select.recipient-type-select");if(t){let i=n.querySelector(".future-members-section"),u=i.querySelector("label.include-future-members-label"),f=i.querySelector("div.d-inline"),r=n.querySelector(".specific-recipient-section");e();t.addEventListener("change",function(){e()});function e(){function o(){r.classList.add("collapse");r.querySelector("select").value="";let t=n.getAttribute("data-future-label"),e=n.getAttribute("data-future-explanation");isEmptyValue(t)?(i.classList.add("collapse"),u.innerHTML="Include Future Members"):(i.classList.remove("collapse"),u.innerHTML=t);isEmptyValue(e)?f.setAttribute("data-bs-original-title",""):f.setAttribute("data-bs-original-title",e);setTooltips()}let n=t.options[t.selectedIndex],e=n.getAttribute("data-specific");isTrueValue(e)?(i.classList.add("collapse"),r.classList.remove("collapse")):o()}}}window.addEventListener("load",function(){initSendMessage()});document.addEventListener("reloadend",function(){initSendMessage()});
//# sourceMappingURL=bundle.min.js.map