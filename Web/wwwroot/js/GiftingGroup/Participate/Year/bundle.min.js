function initIncludedRadios(){async function i(i){let u=i.closest("div"),f=u.closest("form"),e=u.getAttribute("data-url"),o=new URL(e),s=new FormData(f),r=await fetch(o.href,{method:"POST",body:s,redirect:"follow"});if(await r,document.dispatchEvent(new Event("ajaxComplete")),r.redirected)window.location.href=r.url;else{let i=await r.text();(i==null||i=="")&&(i=r.ok?"Preference set successfully":"Could not set preference");r.ok?(toastr.success(i),n.forEach(function(n){n.setAttribute("data-original-value",n.checked)})):(toastr.error(i),t())}}function t(){n.forEach(function(n){try{n.checked=isTrueValue(n.getAttribute("data-original-value"))}catch{n.checked=!n.checked}})}let n=document.querySelectorAll("input.included-radio");n.forEach(function(n){n.setAttribute("data-original-value",n.checked);n.getAttribute("data-initialised")||(n.setAttribute("data-initialised",!0),n.addEventListener("click",function(){let r=isTrueValue(n.value),u=r?"Confirm participation":"Don't participate",f="Are you sure you "+(r?"":"DON'T ")+"want to participate this year?";bootbox.confirm({title:u,message:f,buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-no"}},callback:function(r){bootbox.hideAll();r?i(n):t()}})}))})}window.addEventListener("load",function(){initIncludedRadios()});$(document).on("ajaxComplete",function(){initIncludedRadios()});
//# sourceMappingURL=bundle.min.js.map