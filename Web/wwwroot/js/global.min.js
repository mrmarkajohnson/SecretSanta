function initDataLists(){if(isEdge)return!0;let n=document.querySelectorAll("input[list]");n.forEach(handleDataListIssues)}function handleDataListIssues(n){function r(){if(emptyInput(n))isFirefox&&n.setAttribute("placeholder",t+" (click again to select)");else{let t=n.value;n.setAttribute("placeholder",t);n.value=""}}function u(){let r=n.getAttribute("placeholder");n.value==""&&r!=t&&(n.value=r,i())}function i(){n.setAttribute("placeholder",t)}let t=n.getAttribute("placeholder");emptyValue(t)&&(t=dataListStandardPlaceholder);n.setAttribute("placeholder",t);["focus","mousedown"].forEach(function(t){n.addEventListener(t,function(){r()})});n.addEventListener("blur",function(){u()});n.addEventListener("input",function(){i()})}function initPopper(){$('[data-toggle="popover"]').popover();$('[data-toggle="tooltip"]').tooltip()}function initSuccessMessage(){let n=document.getElementById("redirectSuccessMessage");notEmptyInput(n)&&(toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-top-right",preventDuplicates:!0,onclick:null,showDuration:1e3,hideDuration:1e3,timeOut:1e3,extendedTimeOut:0,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.success(n.value))}function initThinking(){function i(t){let r=$(t),i=null;t.addEventListener("submit",function(t){(typeof $.fn.valid!="function"||r.valid())&&(i=t.currentTarget,i.setAttribute("disabled","disabled"),showThinkingAnimation(n,i))},{passive:!0});$("form").on("invalid-form.validate",function(){clearThinkingElements(n,i)})}let n=document.querySelector(".thinking");clearThinkingElements(n,null);window.addEventListener("beforeunload",function(){clearThinkingElements(n,null);showThinkingAnimation(n,null)});var t=document.querySelectorAll("form");t.forEach(i)}function showThinkingAnimation(n,t){submitTimer=setTimeout(function(){n.style.display="block";t&&t.removeAttribute("disabled")},200)}function clearThinkingElements(n,t){submitTimer&&clearTimeout(submitTimer);n.style.display="none";t&&t.removeAttribute("disabled")}async function relationshipStatusChanged(n,t,i,r){async function u(){let u=n.getAttribute("data-id");t.searchParams.set("userId",u);let i=await fetch(t.href,{method:"POST",redirect:"follow"});await i;document.dispatchEvent(new Event("ajaxComplete"));let r=await i.text();i.redirected?window.location.href=i.url:r!=null&&r!=""&&(i.ok?toastr.success(r):toastr.error(r))}r!=null&&r!=""?bootbox.confirm({title:i,message:r,buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:async function(t){t&&await u();n.checked=!1}}):(await u(),n.checked=!1)}function initEyeSymbols(){let n=document.querySelectorAll(".fa-eye");n.forEach(initEyeSymbol)}function initEyeSymbol(n){function i(n,t,i){t?n.type=i?"text":"password":i?n.classList.remove(hideTextClass):n.classList.add(hideTextClass)}let t=n.closest(".input-group");if(t){let r=t.querySelector("input[type=password], input."+hideTextClass);if(r){let o=r.type=="password",f=!1,u=t.querySelector(".fa-eye-slash");for(e of["change","keyup","paste","input"])r.addEventListener(e,h);s(n);r.addEventListener("blur",function(){f=!1;i(r,o,f);n.classList.add("collapse");u&&u.classList.add("collapse")});r.addEventListener("focus",function(){emptyInput(r)||f||(n.classList.remove("collapse"),u&&u.classList.add("collapse"))});function h(){emptyInput(r)?f?u&&u.classList.add("collapse"):n.classList.add("collapse"):f?u&&u.classList.remove("collapse"):n.classList.remove("collapse")}function c(){return f?l():a(),!1}function l(){f=!1;i(r,o,f);n.classList.remove("collapse");u&&u.classList.add("collapse")}function a(){if(f=!0,i(r,o,f),n.classList.add("collapse"),u)u.classList.remove("collapse");else{u=document.createElement("i");u.setAttribute("class","fa fa-eye-slash");let t=n.closest(".input-group-text");t.append(u);s(u)}}function s(n){n.addEventListener("mousedown",function(n){n.preventDefault();n.stopPropagation();c()})}}}}let dataListStandardPlaceholder="Please type or select a value";let isFirefox=navigator.userAgent.toLowerCase().includes("firefox"),isEdge=navigator.userAgent.toLowerCase().includes("edge");window.addEventListener("load",function(){initPopper();initSuccessMessage();initEyeSymbols();initDataLists();initThinking()});$(document).on("ajaxComplete",function(){initPopper();initEyeSymbols();initDataLists();initThinking()});let submitTimer=null;let hideTextClass="hide-text";
//# sourceMappingURL=global.min.js.map