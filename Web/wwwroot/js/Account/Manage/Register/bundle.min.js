function initLinkUserNameAndEmail(){function h(){let e=n.value,i=t.value;notEmptyValue(i)&&e==i&&(r=!0,o(!0),u.checked=!0,n.addEventListener("change",f))}function o(n){n?(e.setAttribute("style","display:block !important"),i.classList.remove("col-sm-12"),i.classList.add("col-sm-9","col-8")):(e.setAttribute("style","display:none !important"),i.classList.add("col-sm-12"),i.classList.remove("col-sm-9","col-8"))}function c(){let n=t.value;notEmptyValue(n)?(o(!0),r&&s()):o(!1)}function l(){if(r=u.checked,r)s(),n.addEventListener("change",f);else{n.removeEventListener("change",f);let i=n.value,r=t.value;i==r&&(n.value="",n.dispatchEvent(new Event("blur")))}}function s(){let i=t.value;notEmptyValue(i)&&(n.value=i,n.dispatchEvent(new Event("blur")))}function f(){if(r){let i=n.value,r=t.value;i!=r&&(u.checked=!1,n.removeEventListener("change",f))}}let t=document.querySelector("input.email-input"),i=document.querySelector("div.username-container"),n=i.querySelector("input.username-input"),e=document.querySelector("div.use-email-checkbox-container"),u=e.querySelector("input.use-email-checkbox"),r=!1;t.addEventListener("change",c);u.addEventListener("change",l);h()}function initNameVariations(){let n=document.querySelector("div.name-variations-container");if(n){let t=n.closest("form");if(t){let i=n.getAttribute("data-url");if(!isEmptyValue(i)){let r=new URL(i),u=document.querySelectorAll("input.show-name");u.forEach(f);function f(n){n.getAttribute("data-initialised-snv")||(n.setAttribute("data-initialised-snv",!0),n.addEventListener("change",e))}async function e(){let f=new FormData(t),i=await fetch(r.href,{method:"POST",body:f});await i;let u=await getResponseText(i);n.innerHTML=isHtml(u)?u:""}}}}}function initPreferredName(){let n=document.querySelectorAll("input[type=radio].preferred-name-option");if(n){let i=document.querySelector("input[type=text].first-name"),r=document.querySelector("input[type=text].middle-names"),t=document.querySelector("input[type=text].preferred-name");if(i&&r&&t){s();n.forEach(function(n){n.getAttribute("data-initialised-pf")||(n.setAttribute("data-initialised-pf",!0),n.addEventListener("click",function(){f(n)}))});function s(){let i=Array.from(n).filter(n=>n.checked)[0];f(i,t)}function f(n){let f=n.value;f=="Forename"?(t.readOnly=!0,e(i),u(r)):f=="MiddleName"?(t.readOnly=!0,e(r),u(i)):(t.readOnly=!1,u(i),u(r),(t.value==i.value||t.value==r.value)&&(t.value=""))}function e(n){t.value=n.value;n.addEventListener("change",o)}function u(n){n.removeEventListener("change",o)}function o(n){t.value=n.target.value}}}}function initInputsWithCheckbox(){let n=document.querySelectorAll(".input-with-checkbox-container");n.forEach(initInputWithCheckbox)}function initInputWithCheckbox(n){if(!n.getAttribute("data-initialised-ic")){n.setAttribute("data-initialised-ic",!0);let t=n.querySelector("input[type=text]"),i=n.querySelector("input[type=checkbox]");if(t&&i){let n=t.closest("div.form-group-ib"),r=i.closest("div.form-group-ib");if(n&&r){u();t.addEventListener("change",function(){u()});function u(){let u=!isEmptyInput(t);u?(r.setAttribute("style","display:block !important"),n.classList.remove("col-sm-12"),n.classList.add("col-sm-9","col-8")):(r.setAttribute("style","display:none !important"),n.classList.add("col-sm-12"),n.classList.remove("col-sm-9","col-8"),i.checked=!1)}}}}}window.addEventListener("load",function(){initLinkUserNameAndEmail()});window.addEventListener("load",function(){initNameVariations();initPreferredName()});$(document).on("ajaxComplete",function(){initNameVariations();initPreferredName()});window.addEventListener("load",function(){initInputsWithCheckbox()});$(document).on("ajaxComplete",function(){initInputsWithCheckbox()});
//# sourceMappingURL=bundle.min.js.map